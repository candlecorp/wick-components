# yaml-language-server: $schema=https://github.com/candlecorp/wick/releases/download/0.8.0/schema.json
---
name: 'regex'
kind: wick/component@v1
metadata:
  description: 'A regular expression component for matching and capturing strings.'
  authors: ['Candle Corporation']
  licenses: ['Apache-2.0']
  documentation: Source code available at https://github.com/candlecorp/wick-components/tree/main/components
  version: '0.0.2'
component:
  kind: wick/component/wasmrs@v1
  ref: build/regex.signed.wasm
  operations:
    - name: match
      with:
        - name: pattern
          type: string
      inputs:
        - name: input
          type: string
      outputs:
        - name: result
          type: bool
tests:
  - cases:
      - name: regex
        operation: match
        with:
          pattern: '(:?(\w+)\s*)'
        input:
          - name: input
            data: 'This is a string.  It is not very long.'
        output:
          - name: result
            data: true
          - name: result
            flags:
              done: true

    # - name: search
    #   inputs:
    #     - name: result
    #       type: boolean
    #     - name: input
    #       type: string
    #     - name: pattern
    #       type: string
    #   outputs:
    #     - name: output
    #       type: [string]
    # - name: replace
    #   inputs:
    #     - name: input
    #       type: string
    #     - name: pattern
    #       type: string
    #     - name: replacement
    #       type: string
    #   outputs:
    #     - name: result
    #       type: boolean
    #     - name: output
    #       type: string
    # - name: split
    #   inputs:
    #     - name: input
    #       type: string
    #     - name: pattern
    #       type: string
    #   outputs:
    #     - name: result
    #       type: boolean
    #     - name: output
    #       type: [string]
